---
layout: single
title: Tapovanam - application design and architecture
date: '2008-10-02 09:28'
author: peakbyte
comments: true
categories: [Arch.Web, Design, Problem]
---
<p>In redesigning and redeveloping Tapovanam's (my friend's organisation) web site, I want to put in place a good architecture. The following are some of the considerations:</p> <ul> <li>A multi-tier design (mainly to separate presentation code from business logic)  <li>Support themes in presentation layer to switch designs easily at later stage.  <li>Object oriented business logic layer (BLL) (with business objects)  <li>Data access layer (DAL) to be independent of underlying database (to switch databases or even use XML files as data store at a later time)  <li>Data Transfer Objects (DTO) to pass data between BLL and DAL  <li>Maximum use of Data Binding at the presentation layer </li></ul> <p>Following are few ideas in mind at this moment to solve the above problems:</p> <p><u>Multi-tier Design</u></p> <p>Presentation Layer - ASP.NET Web Forms</p> <p>Business Logic Layer - C# business objects having all the validation logic and an abstracted view of underlying data schema.</p> <p>Data Access Layer - C# data access classes to retrieve and store data in data transfer objects</p> <p><u>Plug-in model for Data Access</u></p> <p>To be able to change or use multiple data stores with least effort, the Data Access Layer will use the Provider Model design pattern. </p> <p>An <em>abstract base</em> class containing common data access methods like ExecuteNonQuery, ExecuteReader will be used. This methods in this <em>abstract base</em> class serve as Helper methods for data access. (similar to Data Access Application Block in Enterprise Library). This could be named as <strong>DataAccess</strong></p> <p>For each module in the web site (Eg.. Photos, Events, Commentaries), an <em>abstract provider</em> class and a <em>concrete</em> class is created. </p> <p>The <em>abstract provider</em> class will have abstract CRUD (create, retrieve, update, delete) methods which will be implemented by the <em>concrete</em> class. For example, GetPhoto(), GetPhotosByCategory() etc. This class is data store agnostic. This could be named as <strong>PhotoProvider</strong></p> <p>The <em>concrete</em> class will have the data store specific method implementations defined in the <em>abstract provider</em>. This could be named as <strong>SqlPhotoProvider</strong></p> <p><u>Data Transfer Object</u></p> <p>To transfer objects with data between BLL and DAL, separate classes are created. For example, <em>PhotoDetails</em> class to store the Photo record obtained from data store. Using un-typed DataSets as DTOs is problematic when it comes to maintenance (spelling mistakes are a pain)</p> <p>A collection (like List&lt;T&gt;) of DTOs is used to pass a set of retrieved data from data store to BLL.</p> <p><u>Object Oriented BLL</u></p> <p>The business logic layer consists of C# classes that represent the business objects. These classes have all the validation logic, business logic and methods that talk to the DAL. These classes also use the respective Data Transfer Objects to pass and retrieve data from DAL. These classes can be named like <em>Photo</em>, <em>Event </em>etc.</p> <p><u>DataBinding in Presentation Layer</u></p> <p>To databind UI components like ListView, GridView, DetailsView etc. the ObjectDataSource controls are used in the aspx pages. The ObjectDataSource controls use the Business Objects in BLL and facilitate as binding adapters between the aspx page and business objects.</p> <p>Other considerations include :</p> <ul> <li>Using all the existing ASP.NET built-in <a href="http://msdn.microsoft.com/en-us/library/aa479030.aspx" target="_blank">Provider</a> services like Membership, Profile, Health Monitoring and Personalisation  <li>Using <a href="http://www.codeplex.com/entlib" target="_blank">Enterprise Library's</a> Data Access, Exception, Logging, Security blocks.  <li><a href="https://www.paypal.com/IntegrationCenter/ic_sdk-resource.html" target="_blank">Pay-pal</a> integration for <a href="http://dashcommerce.org/" target="_blank">e-shop</a>  <li>Globalisation and Localisation to display web site in Indian Language  <li>Content managed pages (allow contributors to compose and publish pages) </li></ul>
